let build_spec = {"openapi":"3.0.0","info":{"title":"Reconciliation and Settlement Framework (RSF) for ONDC","description":"ONDC  Reconciliation and Settlement Framework API Specification","version":"2.0.0"},"security":[{"SubscriberAuth":[]}],"paths":{"/settle":{"post":{"tags":["Settlement Agency"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"context":{"$ref":"#/components/schemas/Context"},"message":{"type":"object","properties":{"collector_app_id":{"type":"string"},"receiver_app_id":{"type":"string"},"settlement":{"$ref":"#/components/schemas/Settlement"}}}},"required":["context","message"]}}}},"responses":{"200":{"description":"Acknowledgement of message received","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"object","properties":{"ack":{"$ref":"#/components/schemas/Ack"}},"required":["ack"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["message"]}}}}}}},"/on_settle":{"post":{"tags":["Collector","Receiver"],"requestBody":{"description":"SA responds with /on_settle","content":{"application/json":{"schema":{"type":"object","properties":{"context":{"$ref":"#/components/schemas/Context"},"message":{"type":"object","properties":{"collector_app_id":{"type":"string"},"receiver_app_id":{"type":"string"},"settlement":{"$ref":"#/components/schemas/Settlement"}},"required":["settlement"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["context","message"]}}}},"responses":{"200":{"description":"Acknowledgement of message received","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"object","properties":{"ack":{"$ref":"#/components/schemas/Ack"}},"required":["ack"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["message"]}}}}}}},"/report":{"post":{"tags":["Settlement Agency"],"requestBody":{"description":"SA responds with /on_settle","content":{"application/json":{"schema":{"type":"object","properties":{"context":{"$ref":"#/components/schemas/Context"},"message":{"type":"object","properties":{"ref_transaction_id":{"type":"string"},"ref_message_id":{"type":"string"}}},"error":{"$ref":"#/components/schemas/Error"}},"required":["context","message"]}}}},"responses":{"200":{"description":"Acknowledgement of message received","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"object","properties":{"ack":{"$ref":"#/components/schemas/Ack"}},"required":["ack"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["message"]}}}}}}},"/on_report":{"post":{"tags":["Collector","Receiver"],"requestBody":{"description":"SA responds with /on_settle","content":{"application/json":{"schema":{"type":"object","properties":{"context":{"$ref":"#/components/schemas/Context"},"message":{"type":"object","properties":{"collector_app_id":{"type":"string"},"receiver_app_id":{"type":"string"},"settlement":{"$ref":"#/components/schemas/Settlement"}},"required":["settlement"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["context","message"]}}}},"responses":{"200":{"description":"Acknowledgement of message received","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"object","properties":{"ack":{"$ref":"#/components/schemas/Ack"}},"required":["ack"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["message"]}}}}}}}},"components":{"securitySchemes":{"SubscriberAuth":{"type":"apiKey","in":"header","name":"Authorization","description":"Signature of message body using Collector or Receiver subscriber's signing public key. <br/><br/>Format:<br/><br/><code>Authorization : Signature keyId=\"{subscriber_id}|{unique_key_id}|{algorithm}\",algorithm=\"ed25519\",created=\"1606970629\",expires=\"1607030629\",headers=\"(created) (expires) digest\",signature=\"Base64(signing string)\"</code>"}},"schemas":{"Ack":{"description":"Describes the ACK response","type":"object","properties":{"status":{"type":"string","description":"Describe the status of the ACK response. If schema validation passes, status is ACK else it is NACK","enum":["ACK","NACK"]}}},"Amount":{"type":"object","properties":{"currency":{"type":"string","example":"INR"},"value":{"type":"string","example":""}}},"BankDetails":{"type":"object","properties":{"account_no":{"type":"string","example":""},"ifsc_code":{"type":"string","example":""}}},"Context":{"description":"Describes a beckn message context","type":"object","properties":{"domain":{"type":"string"},"location":{"type":"object","properties":{"country":{"type":"object","properties":{"code":{"type":"string","example":"IND"}}},"city":{"type":"object","properties":{"code":{"type":"string","example":"*"}}}}},"action":{"type":"string","description":"Defines the Beckn API call. Any actions other than the enumerated actions are not supported by Beckn Protocol"},"version":{"type":"string","description":"Version of Beckn core API specification being used"},"bap_id":{"type":"string","description":"Unique id of the BAP. By default it is the fully qualified domain name of the BAP"},"bap_uri":{"type":"string","format":"uri","description":"URI of the BAP for accepting callbacks. Must have the same domain name as the bap_id"},"bpp_id":{"type":"string","description":"Unique id of the BPP. By default it is the fully qualified domain name of the BPP"},"bpp_uri":{"type":"string","format":"uri","description":"URI of the BPP. Must have the same domain name as the bap_id"},"transaction_id":{"type":"string","description":"This is a unique value which persists across all API calls from search through confirm"},"message_id":{"type":"string","description":"This is a unique value which persists during a request / callback cycle"},"timestamp":{"type":"string","format":"date-time","description":"Time of request generation in RFC3339 format"},"key":{"type":"string","description":"The encryption public key of the sender"},"ttl":{"type":"string","description":"The duration in ISO8601 format after timestamp for which this message holds valid"}},"required":["domain","action","location","version","transaction_id","message_id","bap_id","bap_uri","timestamp"]},"Error":{"description":"Describes an error object that is returned by a Collector or Receiver as a response or callback to an action by another network participant. This object is sent when any request received by a network participant is unacceptable. This object can be sent either during Ack or with the callback.","type":"object","properties":{"code":{"type":"string","description":"Standard error code. For full list of error codes, refer to TBD"},"message":{"type":"string","description":"Human readable message describing the error. Used mainly for logging. Not recommended to be shown to the user."}}},"Orders":{"type":"array","items":{"type":"object","properties":{"id":{"description":"Describes the order id","type":"string"},"inter_participant":{"description":"Provides details about the settlement amount, payable/ receivable and status between the Collector and the Receiver","type":"object","properties":{"amount":{"$ref":"#/components/schemas/Amount"},"status":{"type":"string","enum":["SETTLED","NOT-SETTLED"]},"reference_no":{"type":"string"},"error":{"$ref":"#/components/schemas/Error"}}},"collector":{"description":"Provides details about the amount to be retained by the collector","type":"object","properties":{"amount":{"$ref":"#/components/schemas/Amount"}}},"provider":{"description":"Provides details about the amount to be settled to the Provider of an NP.","type":"object","properties":{"id":{"type":"string","example":""},"name":{"type":"string","example":""},"bank_details":{"$ref":"#/components/schemas/BankDetails"},"status":{"type":"string","enum":["SETTLED","NOT-SETTLED"]},"amount":{"$ref":"#/components/schemas/Amount"},"reference_no":{"type":"string"},"error":{"$ref":"#/components/schemas/Error"}}},"self":{"type":"object","description":"Provides details about the amount for the NP to move to their operative account","properties":{"amount":{"$ref":"#/components/schemas/Amount"},"status":{"type":"string","enum":["SETTLED","NOT-SETTLED"]},"reference_no":{"type":"string"},"error":{"$ref":"#/components/schemas/Error"}}}}}},"Settlement":{"description":"- Describes the settlement of NP -NP - Describes the miscellaneous settlement - Describes the NIL settlement\n","type":"object","properties":{"type":{"description":"Describes the type of the settlement","type":"string"},"id":{"description":"* settlement id of the settlement file\n","type":"string"},"order":{"$ref":"#/components/schemas/Orders"}}}}},"x-enum":{"settle":{"context":{"location":{"country":{"code":[{"code":"IND","description":"Represents the country","reference":"<PR/Issue/Discussion Links md format text>"}]},"city":{"code":[{"code":"*","description":"city","reference":"<PR/Issue/Discussion Links md format text"}]}},"domain":[{"code":"ONDC:NTS10","description":"RSF","reference":"<PR/Issue/Discussion Links md format text>"}]},"message":{"settlement":{"type":[{"code":"NP-NP","description":"Interparticipant settlement","reference":"<PR/Issue/Discussion Links md format text"},{"code":"MISC","description":"Miscellaneous","reference":"<PR/Issue/Discussion Links md format text"},{"code":"NIL","description":"NP Declaring no settlement required","reference":"<PR/Issue/Discussion Links md format text"}]}}},"on_settle":{"context":{"location":{"country":{"code":[{"code":"IND","description":"Represents the country","reference":"<PR/Issue/Discussion Links md format text>"}]},"city":{"code":[{"code":"*","description":"city","reference":"<PR/Issue/Discussion Links md format text"}]}},"domain":[{"code":"ONDC:NTS10","description":"RSF","reference":"<PR/Issue/Discussion Links md format text>"}]},"message":{"settlement":{"type":[{"code":"NP-NP","description":"Interparticipant settlement","reference":"<PR/Issue/Discussion Links md format text"},{"code":"MISC","description":"Miscellaneous","reference":"<PR/Issue/Discussion Links md format text"},{"code":"NIL","description":"NP Declaring no settlement required","reference":"<PR/Issue/Discussion Links md format text"}],"orders":{"inter_participant":{"status":[{"code":"SETTLED","description":"settlement successful","reference":"<PR/Issue/Discussion Links md format text"},{"code":"NOT_SETTLED","description":"settlement unsuccessful","reference":"<PR/Issue/Discussion Links md format text"}]},"provider":{"status":[{"code":"SETTLED","description":"settlement successful","reference":"<PR/Issue/Discussion Links md format text"},{"code":"NOT_SETTLED","description":"settlement unsuccessful","reference":"<PR/Issue/Discussion Links md format text"}]},"self":{"status":[{"code":"SETTLED","description":"settlement successful","reference":"<PR/Issue/Discussion Links md format text"},{"code":"NOT_SETTLED","description":"settlement unsuccessful","reference":"<PR/Issue/Discussion Links md format text"}]}}}}},"on_report":{"context":{"location":{"country":{"code":[{"code":"IND","description":"Represents the country","reference":"<PR/Issue/Discussion Links md format text>"}]},"city":{"code":[{"code":"*","description":"city","reference":"<PR/Issue/Discussion Links md format text"}]}},"domain":[{"code":"ONDC:NTS10","description":"RSF","reference":"<PR/Issue/Discussion Links md format text>"}]},"message":{"settlement":{"type":[{"code":"NP-NP","description":"Interparticipant settlement","reference":"<PR/Issue/Discussion Links md format text"},{"code":"MISC","description":"Miscellaneous","reference":"<PR/Issue/Discussion Links md format text"},{"code":"NIL","description":"NP declaring no settlement required","reference":"<PR/Issue/Discussion Links md format text"}],"orders":{"inter_participant":{"status":[{"code":"SETTLED","description":"settlement successful","reference":"<PR/Issue/Discussion Links md format text"},{"code":"NOT_SETTLED","description":"settlement unsuccessful","reference":"<PR/Issue/Discussion Links md format text"}]},"provider":{"status":[{"code":"SETTLED","description":"settlement successful","reference":"<PR/Issue/Discussion Links md format text"},{"code":"NOT_SETTLED","description":"settlement unsuccessful","reference":"<PR/Issue/Discussion Links md format text"}]},"self":{"status":[{"code":"SETTLED","description":"settlement successful","reference":"<PR/Issue/Discussion Links md format text"},{"code":"NOT_SETTLED","description":"settlement unsuccessful","reference":"<PR/Issue/Discussion Links md format text"}]}}}}}},"x-flows":[{"summary":"RSF_NP-NP","details":[{"description":"Detailed flows covering inter participant settlements. NPs (Collector and Receiver) share settlement instructions to the Settlement Agency and the settlement agency responds with whether the settlement was successful or not.\n\nIn the example below, the collector is a retail seller app and the receiver is the retail buyer app. The retail seller app shares instructions for receivable for an order from the retail buyer app, to be sent to their own operating account (self) and their provider's account (provider). The retail buyer app shares instructions for payable for the respective order along with funds to be moved to their own operating amount (self).\n","mermaid":"sequenceDiagram\n participant Collector\n  participant Settlement_Agency\n participant Receiver\n Collector ->> Settlement_Agency: settle API \n Settlement_Agency -->> Collector: ack\n Receiver ->> Settlement_Agency: settle API\n Settlement_Agency -->> Receiver: ack\n Settlement_Agency ->> Collector : on_settle API\n Collector -->> Settlement_Agency: ack\n Settlement_Agency ->> Receiver : on_settle API\n Receiver -->> Settlement_Agency : ack"}],"references":"if any","steps":[{"summary":"SETTLEMENT INSTRUCTIONS","reference":"if any","api":"settle","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T11:36:51.897Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"provider":{"id":"prvdr-id-789","name":"Kirana Pvt Ltd","bank_details":{"account_no":"1234567890","ifsc_code":"IFSC0001"},"amount":{"currency":"INR","value":"800.00"}},"self":{"amount":{"currency":"INR","value":"200.00"}}}]}}}},"details":[{"description":"settlement instructions from NP to Settlement Agency","mermaid":"sequenceDiagram participant Collector\n participant Settlement_Agency\n participant Receiver\n rect rgb(191, 223, 255) \n Collector ->> Settlement_Agency: settle API \n Settlement_Agency ->> Collector : Ack    \n end\n Receiver ->> Settlement_Agency: settle API     \n Settlement_Agency ->> Collector : on_setttle API\n Settlement_Agency ->> Receiver : on_setttle API"}]},{"summary":"SETTLEMENT INSTRUCTIONS","reference":"if any","api":"settle","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T11:36:51.897Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"self":{"amount":{"currency":"INR","value":"50.00"}}}]}}}},"details":[{"description":"settlement instructions from NP to Settlement Agency","mermaid":"sequenceDiagram participant Collector\n participant Settlement_Agency\n participant Receiver\n Collector ->> Settlement_Agency: settle API \n rect rgb(191, 223, 255) \n Receiver ->> Settlement_Agency: settle API\n Settlement_Agency ->> Receiver :Ack\n end\n Settlement_Agency ->> Collector : on_setttle API\n Settlement_Agency ->> Receiver : on_setttle API"}]},{"summary":"SETTLEMENT RESPONSE","reference":"if any","api":"on_settle","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.in/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T13:36:51.000Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"},"status":"SETTLED","reference_no":"3245683618631"},"collector":{"amount":{"currency":"INR","value":"50.00"}},"provider":{"id":"prvdr-id-789","amount":{"currency":"INR","value":"800.00"},"status":"NOT-SETTLED","error":{"code":"01","message":"Account inactive"},"reference_no":"1238683618634"},"self":{"amount":{"currency":"INR","value":"200.00"},"status":"NOT-SETTLED","reference_no":"1238683618634","error":{"code":"01","message":"Account inactive"}}}]}}}},"details":[{"description":"Response from settlement agency","mermaid":"sequenceDiagram participant Collector\n participant Settlement_Agency\n participant Receiver\n Collector ->> Settlement_Agency: settle API \n Receiver ->> Settlement_Agency: settle API\n rect rgb(191, 223, 255) \n Settlement_Agency ->> Collector : on_setttle API\n Collector ->> Settlement_Agency: Ack\n end\n Settlement_Agency ->> Receiver : on_setttle API"}]},{"summary":"SETTLEMENT RESPONSE","reference":"if any","api":"on_settle","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.in/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T13:36:51.000Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"},"status":"SETTLED","reference_no":"3245683618631"},"collector":{"amount":{"currency":"INR","value":"50.00"}},"self":{"amount":{"currency":"INR","value":"50.00"},"status":"SETTLED","reference_no":"1238683618634"}}]}}}},"details":[{"description":"Response from settlement agency","mermaid":"sequenceDiagram participant Collector\n participant Settlement_Agency\n participant Receiver\n Collector ->> Settlement_Agency: settle API \n Receiver ->> Settlement_Agency: settle API\n Settlement_Agency ->> Collector : on_setttle API\n rect rgb(191, 223, 255) \n Settlement_Agency ->> Receiver : on_setttle API\n Receiver ->> Settlement_Agency: Ack\n end"}]}]},{"summary":"RSF_MISC","details":[{"description":"Detailed flows covering miscellaneous or self settlements.  NPs share settlement instructions to the Settlement Agency  and the settlement agency responds with whether the settlement  was successful or not. In the example below, a retail seller app is sharing settlement instructions to move funds from their non operating account to their operating account and their respective provider's account.","mermaid":"sequenceDiagram\n participant NP\n participant Settlement_Agency\n NP ->> Settlement_Agency: settle API \n Settlement_Agency ->> NP : on_setttle API\n participant Receiver\n participant Settlement_Agency\n Receiver ->> Settlement_Agency: settle API \n Settlement_Agency ->> Receiver : on_setttle API"}],"references":"if any","steps":[{"summary":"SETTLE","api":"settle","details":[{"description":"settle api","mermaid":"sequenceDiagram participant NP\n participant Settlement_Agency\nNP ->> Settlement_Agency: settle API \n Settlement_Agency ->> NP : on_setttle API"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"ad73a366-aebb-4144-9314-808dda82c8e6","message_id":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T09:32:23.600Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"MISC","id":"settlement-id-123","orders":[{"self":{"amount":{"currency":"INR","value":"200.00"}},"provider":{"id":"provider-id-789","name":"Kirana Pvt Ltd.","bank_details":{"account_no":"1234567890","ifsc_code":"IFSC0001"},"amount":{"currency":"INR","value":"200.00"}}}]}}}}},{"summary":"ON_SETTLE","api":"on_settle","details":[{"description":"on_settle","mermaid":"sequenceDiagram participant NP\n participant Settlement_Agency\nNP ->> Settlement_Agency: settle API \n Settlement_Agency ->> NP : on_setttle API"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"ad73a366-aebb-4144-9314-808dda82c8e6","message_id":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T09:32:23.623Z","ttl":"PT30S"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"MISC","id":"settlement-id-123","orders":[{"provider":{"id":"provider-id-789","amount":{"currency":"INR","value":"200.00"},"status":"NOT-SETTLED","reference_no":"3718683618631","error":{"code":"01","message":"Account inactive"}},"self":{"amount":{"currency":"INR","value":"200.00"},"status":"SETTLED","reference_no":"3718683618631"}}]}}}}}]},{"summary":"RSF_NIL","details":[{"description":"Detailed flows covering the NPs declaring that no settlements (where they would act as a collector) are to be done for that settlement cycle.","mermaid":"sequenceDiagram\n participant NP(Collector/Receiver)\n participant Settlement_Agency\n NP(Collector/Receiver) ->> Settlement_Agency: settle API \n Settlement_Agency ->> NP(Collector/Receiver) : on_setttle API"}],"references":"if any","steps":[{"summary":"SETTLE","api":"settle","details":[{"description":"settle api","mermaid":"sequenceDiagram participant NP(Collector/Receiver)\n  participant Settlement_Agency\n  NP(Collector/Receiver) ->> Settlement_Agency: settle API      \n  Settlement_Agency ->> NP(Collector/Receiver) : on_settle API"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collector.in/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa.nbbl.nbbl.com/nocs_test","transaction_id":"de73a489-aebb-4144-9314-808dda82c7e6","message_id":"238ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T08:40:50.900Z","ttl":"P1D"},"message":{"settlement":{"type":"NIL"}}}}},{"summary":"ON_SETTLE","api":"on_settle","details":[{"description":"on_settle","mermaid":"sequenceDiagram participant NP\n participant Settlement_Agency\n NP ->> Settlement_Agency: settle API \n Settlement_Agency ->> NP : on_setttle API"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"de73a489-aebb-4144-9314-808dda82c7e6","message_id":"238ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T08:40:51.000Z","ttl":"P1D"},"message":{"settlement":{"type":"NIL"}}}}}]},{"summary":"RSF_REPORT","details":[{"description":"Detailed flows covering NPs seeking status of a settlement instructions previously shared with reference to a transaction id and/ or message id. The settlement agency responds with the status of the respective settlement instructions referred.","mermaid":"sequenceDiagram\n participant NP\n participant Settlement_Agency\n NP ->> Settlement_Agency: report API \n Settlement_Agency ->> NP : on_report API"}],"references":"if any","steps":[{"summary":"REPORT","api":"report","details":[{"description":"report api","mermaid":"sequenceDiagram\n participant NP\n participant Settlement_Agency      \n NP ->> Settlement_Agency: report API \n Settlement_Agency ->> NP : ACK\n Settlement_Agency ->> NP : on_report API\n NP ->> Settlement_Agency : Ack"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"report","bap_id":"collectorapp.com","bap_uri":"https://collector.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://nbbl.org.in/nocs_test","transaction_id":"cd73a366-aebb-4144-9314-808dda82c7e6","message_id":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-09T06:36:51.897Z","ttl":"P1D"},"message":{"ref_transaction_id":"bd73a366-aebb-4144-9314-808dda82c7e6","ref_message_id":"941ef6d7-d74d-4411-ac06-469c0f9ac"}}}},{"summary":"ON_REPORT","api":"on_report","details":[{"description":"on_report","mermaid":"sequenceDiagram\n participant NP\n participant Settlement_Agency\n NP ->> Settlement_Agency: report API  \n Settlement_Agency ->> NP : Ack\n Settlement_Agency ->> NP : on_ report API\n NP ->> Settlement_Agency : Ack"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_report","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"cd73a366-aebb-4144-9314-808dda82c7e6","message_id":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T06:36:51.900Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-123","orders":[{"id":"order-id-456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"},"status":"SETTLED","reference_no":"3718683618631","error":{"code":"01","message":"Account Inactive"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"provider":{"id":"provider-id-789","amount":{"currency":"INR","value":"800.00"},"status":"NOT-SETTLED","error":{"code":"01","message":"Account Inactive"},"reference_no":"3718683618634"},"self":{"amount":{"currency":"INR","value":"200.00"},"status":"NOT-SETTLED","reference_no":"3718683618634","error":{"code":"01","message":"Account inactive"}}}]}}}}}]}],"x-examples":{"RSF":{"summary":"RSF 2.0","description":"Reconciliation and Settlement Framework provides a comprehensive framework to ensure accurate and timely settlements among participants in the network. RSF 2.0 brings an enhanced workflow where the NPs share order-level the settlement instructions to the Settlement Agency (SA) which matches the same with the respective counterparty NP and then moves funds if the amounts have matched successfully.","example_set":{"on_report":{"examples":[{"summary":"on_report","description":"Response from settlement agency","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_report","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"cd73a366-aebb-4144-9314-808dda82c7e6","message_id":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T06:36:51.900Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-123","orders":[{"id":"order-id-456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"},"status":"SETTLED","reference_no":"3718683618631","error":{"code":"01","message":"Account Inactive"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"provider":{"id":"provider-id-789","amount":{"currency":"INR","value":"800.00"},"status":"NOT-SETTLED","error":{"code":"01","message":"Account Inactive"},"reference_no":"3718683618634"},"self":{"amount":{"currency":"INR","value":"200.00"},"status":"NOT-SETTLED","reference_no":"3718683618634","error":{"code":"01","message":"Account inactive"}}}]}}}}]},"on_settle":{"examples":[{"summary":"on_settle misc","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"ad73a366-aebb-4144-9314-808dda82c8e6","message_id":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T09:32:23.623Z","ttl":"PT30S"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"MISC","id":"settlement-id-123","orders":[{"provider":{"id":"provider-id-789","amount":{"currency":"INR","value":"200.00"},"status":"NOT-SETTLED","reference_no":"3718683618631","error":{"code":"01","message":"Account inactive"}},"self":{"amount":{"currency":"INR","value":"200.00"},"status":"SETTLED","reference_no":"3718683618631"}}]}}}},{"summary":"on_settle nil","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"de73a489-aebb-4144-9314-808dda82c7e6","message_id":"238ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T08:40:51.000Z","ttl":"P1D"},"message":{"settlement":{"type":"NIL"}}}},{"summary":"on_settle np-np","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.in/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T13:36:51.000Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"},"status":"SETTLED","reference_no":"3245683618631"},"collector":{"amount":{"currency":"INR","value":"50.00"}},"provider":{"id":"prvdr-id-789","amount":{"currency":"INR","value":"800.00"},"status":"NOT-SETTLED","error":{"code":"01","message":"Account inactive"},"reference_no":"1238683618634"},"self":{"amount":{"currency":"INR","value":"200.00"},"status":"NOT-SETTLED","reference_no":"1238683618634","error":{"code":"01","message":"Account inactive"}}}]}}}},{"summary":"on_settle_misc","description":"TBD","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"ad73a366-aebb-4144-9314-808dda82c8e6","message_id":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T09:32:23.623Z","ttl":"PT30S"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"MISC","id":"settlement-id-123","orders":[{"provider":{"id":"provider-id-789","amount":{"currency":"INR","value":"200.00"},"status":"NOT-SETTLED","reference_no":"3718683618631","error":{"code":"01","message":"Account inactive"}},"self":{"amount":{"currency":"INR","value":"200.00"},"status":"SETTLED","reference_no":"3718683618631"}}]}}}},{"summary":"on_settle_nil","description":"TBD","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"de73a489-aebb-4144-9314-808dda82c7e6","message_id":"238ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T08:40:51.000Z","ttl":"P1D"},"message":{"settlement":{"type":"NIL"}}}},{"summary":"on_settle_np_np","description":"TBD","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.in/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T13:36:51.000Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"},"status":"SETTLED","reference_no":"3245683618631"},"collector":{"amount":{"currency":"INR","value":"50.00"}},"self":{"amount":{"currency":"INR","value":"50.00"},"status":"SETTLED","reference_no":"1238683618634"}}]}}}}]},"report":{"examples":[{"summary":"report","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"report","bap_id":"collectorapp.com","bap_uri":"https://collector.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://nbbl.org.in/nocs_test","transaction_id":"cd73a366-aebb-4144-9314-808dda82c7e6","message_id":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-09T06:36:51.897Z","ttl":"P1D"},"message":{"ref_transaction_id":"bd73a366-aebb-4144-9314-808dda82c7e6","ref_message_id":"941ef6d7-d74d-4411-ac06-469c0f9ac"}}}]},"settle":{"examples":[{"summary":"settle nil","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collector.in/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa.nbbl.nbbl.com/nocs_test","transaction_id":"de73a489-aebb-4144-9314-808dda82c7e6","message_id":"238ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T08:40:50.900Z","ttl":"P1D"},"message":{"settlement":{"type":"NIL"}}}},{"summary":"settle np-np","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T11:36:51.897Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"provider":{"id":"prvdr-id-789","name":"Kirana Pvt Ltd","bank_details":{"account_no":"1234567890","ifsc_code":"IFSC0001"},"amount":{"currency":"INR","value":"800.00"}},"self":{"amount":{"currency":"INR","value":"200.00"}}}]}}}},{"summary":"settle_misc","description":"TBD","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"ad73a366-aebb-4144-9314-808dda82c8e6","message_id":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T09:32:23.600Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"MISC","id":"settlement-id-123","orders":[{"self":{"amount":{"currency":"INR","value":"200.00"}},"provider":{"id":"provider-id-789","name":"Kirana Pvt Ltd.","bank_details":{"account_no":"1234567890","ifsc_code":"IFSC0001"},"amount":{"currency":"INR","value":"200.00"}}}]}}}},{"summary":"settle_nil","description":"TBD","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collector.in/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa.nbbl.nbbl.com/nocs_test","transaction_id":"de73a489-aebb-4144-9314-808dda82c7e6","message_id":"238ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T08:40:50.900Z","ttl":"P1D"},"message":{"settlement":{"type":"NIL"}}}},{"summary":"settle_np_np","description":"settlement instructions from NP to Settlement Agency","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T11:36:51.897Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"self":{"amount":{"currency":"INR","value":"50.00"}}}]}}}},{"summary":"settle misc","description":"Miscellaneous / self settlement instruction","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"ad73a366-aebb-4144-9314-808dda82c8e6","message_id":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T09:32:23.600Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"MISC","id":"settlement-id-123","orders":[{"self":{"amount":{"currency":"INR","value":"200.00"}},"provider":{"id":"provider-id-789","name":"Kirana Pvt Ltd.","bank_details":{"account_no":"1234567890","ifsc_code":"IFSC0001"},"amount":{"currency":"INR","value":"200.00"}}}]}}}}]}}}},"x-attributes":{"RSF":{"attribute_set":{"settle_misc":{"context":{"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10"},"location":{"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND"}},"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*"}}},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0"},"action":{"required":true,"type":"string","owner":"any","usage":"settle"},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"sa_nocs.nbbl.com"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://sa_nocs.nbbl.com/nocs_test"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"ad73a366-aebb-4144-9314-808dda82c8e6"},"message_id":{"required":true,"type":"string","owner":"any","usage":"354ef6d7-d74d-4411-ac06-a05469c0f9ac"},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-07T09:32:23.600Z"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D"}},"message":{"collector_app_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com"},"receiver_app_id":{"required":true,"type":"string","owner":"any","usage":"receiverapp.com"},"settlement":{"type":{"required":true,"type":"string","owner":"any","usage":"MISC"},"id":{"required":true,"type":"string","owner":"any","usage":"settlement-id-123"},"orders":{"self":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00"}}},"provider":{"id":{"required":true,"type":"string","owner":"any","usage":"provider-id-789"},"name":{"required":true,"type":"string","owner":"any","usage":"Kirana Pvt Ltd."},"bank_details":{"account_no":{"required":true,"type":"string","owner":"any","usage":1234567890},"ifsc_code":{"required":true,"type":"string","owner":"any","usage":"IFSC0001"}},"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00"}}}}}}},"settle_np-np":{"context":{"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10"},"location":{"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND"}},"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*"}}},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0"},"action":{"required":true,"type":"string","owner":"any","usage":"settle"},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"sa_nocs.nbbl.com"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://sa_nocs.nbbl.com/nocs_test"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"ad73a366-aebb-4144-9314-808dda82c8e6"},"message_id":{"required":true,"type":"string","owner":"any","usage":"354ef6d7-d74d-4411-ac06-a05469c0f9ac"},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-07T09:32:23.600Z"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D"}},"message":{"collector_app_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com"},"receiver_app_id":{"required":true,"type":"string","owner":"any","usage":"receiverapp.com"},"settlement":{"type":{"required":true,"type":"string","owner":"any","usage":"NP-NP"},"id":{"required":true,"type":"string","owner":"any","usage":"settlement-id-abc"},"orders":{"self":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00"}}},"provider":{"id":{"required":true,"type":"string","owner":"any","usage":"prvdr-id-789"},"name":{"required":true,"type":"string","owner":"any","usage":"Kirana Pvt Ltd"},"bank_details":{"account_no":{"required":true,"type":"string","owner":"any","usage":"1234567890"},"ifsc_code":{"required":true,"type":"string","owner":"any","usage":"IFSC0001"}},"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"800.00"}}},"id":{"required":true,"type":"string","owner":"any","usage":"ordr-123456"},"inter_participant":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"1000.00"}}},"collector":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"50.00"}}}}}}},"settle_nil":{"context":{"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10"},"location":{"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND"}},"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*"}}},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0"},"action":{"required":true,"type":"string","owner":"any","usage":"settle"},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"sa_nocs.nbbl.com"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://sa_nocs.nbbl.com/nocs_test"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"ad73a366-aebb-4144-9314-808dda82c8e6"},"message_id":{"required":true,"type":"string","owner":"any","usage":"354ef6d7-d74d-4411-ac06-a05469c0f9ac"},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-07T09:32:23.600Z"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D"}},"message":{"collector_app_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com"},"receiver_app_id":{"required":true,"type":"string","owner":"any","usage":"receiverapp.com"},"settlement":{"type":{"required":true,"type":"string","owner":"any","usage":"NIL"},"id":{"required":true,"type":"string","owner":"any","usage":"settlement-id-abc"},"orders":{"self":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00"}}},"provider":{"id":{"required":true,"type":"string","owner":"any","usage":"prvdr-id-789"},"name":{"required":true,"type":"string","owner":"any","usage":"Kirana Pvt Ltd"},"bank_details":{"account_no":{"required":true,"type":"string","owner":"any","usage":"1234567890"},"ifsc_code":{"required":true,"type":"string","owner":"any","usage":"IFSC0001"}},"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"800.00"}}},"id":{"required":true,"type":"string","owner":"any","usage":"ordr-123456"},"inter_participant":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"1000.00"}}},"collector":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"50.00"}}}}}}},"on_settle":{"context":{"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10"},"location":{"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND"}},"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*"}}},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0"},"action":{"required":true,"type":"string","owner":"any","usage":"on_settle"},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"sa_nocs.nbbl.com"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://sa_nocs.nbbl.com/nocs_test"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"ad73a366-aebb-4144-9314-808dda82c8e6"},"message_id":{"required":true,"type":"string","owner":"any","usage":"354ef6d7-d74d-4411-ac06-a05469c0f9ac"},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-07T09:32:23.600Z"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D"}},"message":{"collector_app_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com"},"receiver_app_id":{"required":true,"type":"string","owner":"any","usage":"receiverapp.com"},"settlement":{"type":{"required":true,"type":"string","owner":"any","usage":"NP-NP"},"id":{"required":true,"type":"string","owner":"any","usage":"settlement-id-abc"},"orders":{"self":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00"}},"status":{"required":true,"type":"string","owner":"any","usage":"NOT-SETTLED"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"1238683618634"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive"}}},"provider":{"id":{"required":true,"type":"string","owner":"any","usage":"prvdr-id-789"},"name":{"required":true,"type":"string","owner":"any","usage":"Kirana Pvt Ltd"},"bank_details":{"account_no":{"required":true,"type":"string","owner":"any","usage":"1234567890"},"ifsc_code":{"required":true,"type":"string","owner":"any","usage":"IFSC0001"}},"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"800.00"}},"status":{"required":true,"type":"string","owner":"any","usage":"NOT-SETTLED"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive"}}},"id":{"required":true,"type":"string","owner":"any","usage":"ordr-123456"},"inter_participant":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"1000.00"}},"status":{"required":true,"type":"string","owner":"any","usage":"SETTLED"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive"}}},"collector":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"50.00"}}}}}}},"report":{"context":{"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10"},"location":{"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND"}},"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*"}}},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0"},"action":{"required":true,"type":"string","owner":"any","usage":"report"},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"sa_nocs.nbbl.com"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://sa_nocs.nbbl.com/nocs_test"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"d73a366-aebb-4144-9314-808dda82c7e6"},"message_id":{"required":true,"type":"string","owner":"any","usage":"841ef6d7-d74d-4411-ac06-a05469c0f9ac"},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-09T06:36:51.897Z"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D"}},"message":{"collector_app_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com"},"receiver_app_id":{"required":true,"type":"string","owner":"any","usage":"receiverapp.com"},"settlement":{"type":{"required":true,"type":"string","owner":"any","usage":"NP-NP"},"id":{"required":true,"type":"string","owner":"any","usage":"settlement-id-abc"},"orders":{"self":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00"}},"status":{"required":true,"type":"string","owner":"any","usage":"NOT-SETTLED"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"1238683618634"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive"}}},"provider":{"id":{"required":true,"type":"string","owner":"any","usage":"prvdr-id-789"},"name":{"required":true,"type":"string","owner":"any","usage":"Kirana Pvt Ltd"},"bank_details":{"account_no":{"required":true,"type":"string","owner":"any","usage":"1234567890"},"ifsc_code":{"required":true,"type":"string","owner":"any","usage":"IFSC0001"}},"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"800.00"}},"status":{"required":true,"type":"string","owner":"any","usage":"NOT-SETTLED"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive"}}},"id":{"required":true,"type":"string","owner":"any","usage":"ordr-123456"},"inter_participant":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"1000.00"}},"status":{"required":true,"type":"string","owner":"any","usage":"SETTLED"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive"}}},"collector":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"50.00"}}}}},"ref_transaction_id":{"required":true,"type":"string","owner":"any","usage":"bd73a366-aebb-4144-9314-808dda82c7e6"},"ref_message_id":{"required":true,"type":"string","owner":"any","usage":"941ef6d7-d74d-4411-ac06-469c0f9ac"}}},"on_report":{"context":{"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10"},"location":{"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND"}},"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*"}}},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0"},"action":{"required":true,"type":"string","owner":"any","usage":"on_report"},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"sa_nocs.nbbl.com"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://sa_nocs.nbbl.com/nocs_test"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"cd73a366-aebb-4144-9314-808dda82c7e6"},"message_id":{"required":true,"type":"string","owner":"any","usage":"841ef6d7-d74d-4411-ac06-a05469c0f9ac"},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-07T06:36:51.900Z"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D"}},"message":{"collector_app_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com"},"receiver_app_id":{"required":true,"type":"string","owner":"any","usage":"receiverapp.com"},"settlement":{"type":{"required":true,"type":"string","owner":"any","usage":"NP-NP"},"id":{"required":true,"type":"string","owner":"any","usage":"settlement-id-123"},"orders":{"self":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00"}},"status":{"required":true,"type":"string","owner":"any","usage":"NOT-SETTLED"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive"}}},"provider":{"id":{"required":true,"type":"string","owner":"any","usage":"provider-id-789"},"name":{"required":true,"type":"string","owner":"any","usage":"Kirana Pvt Ltd"},"bank_details":{"account_no":{"required":true,"type":"string","owner":"any","usage":"1234567890"},"ifsc_code":{"required":true,"type":"string","owner":"any","usage":"IFSC0001"}},"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"800.00"}},"status":{"required":true,"type":"string","owner":"any","usage":"NOT-SETTLED"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive"}}},"id":{"required":true,"type":"string","owner":"any","usage":"order-id-456"},"inter_participant":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"1000.00"}},"status":{"required":true,"type":"string","owner":"any","usage":"SETTLED"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive"}},"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"1000.00"}},"collector":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR"},"value":{"required":true,"type":"string","owner":"any","usage":"50.00"}}}}},"ref_transaction_id":{"required":true,"type":"string","owner":"any","usage":"bd73a366-aebb-4144-9314-808dda82c7e6"},"ref_message_id":{"required":true,"type":"string","owner":"any","usage":"941ef6d7-d74d-4411-ac06-469c0f9ac"}}}}}},"x-errorcodes":{"code":[{"Event":"Invalid Signature","Description":"NACK","From":"Any","code":70000},{"Event":"Invalid Header","Description":"NACK","From":"Any","code":70001},{"Event":"Invalid Schema","Description":"NACK","From":"Any","code":70002},{"Event":"Invalid SA","Description":"OnSettle","From":"Any","code":70003},{"Event":"Order ID Not Found","Description":"NACK (Schema)","From":"Any","code":70004},{"Event":"Order ID mismatch","Description":"OnSettle","From":"Any","code":70005},{"Event":"Duplicate Request","Description":"OnSettle","From":"Any","code":70006},{"Event":"Amount mismatch - Payable/Receivable","Description":"OnSettle","From":"Any","code":70007},{"Event":"Amount Mismatch - Withheld","Description":"OnSettle","From":"Any","code":70008},{"Event":"Outflow Greater Than Receivable","Description":"OnSettle","From":"Any","code":70009},{"Event":"Invalid Seller Account Details","Description":"NACK (Schema)","From":"Any","code":70010},{"Event":"Bad or Invalid Request error - Mandatory Attributes were missing","Description":"NACK (Schema)","From":"Any","code":70011},{"Event":"Invalid Collector App ID","Description":"OnSettle","From":"Any","code":70012},{"Event":"Invalid Receiver App ID","Description":"OnSettle","From":"Any","code":70013},{"Event":"No Claim from Counterparty (Only for Collector/Buyer App)","Description":"OnSettle","From":"Any","code":70014},{"Event":"No Corresponding Payable initiated from Collector","Description":"OnSettle","From":"Any","code":70015},{"Event":"Failed due to Insufficient Funds in Collector Account","Description":"OnSettle (Balance Check Failure)","From":"Any","code":70016},{"Event":"Collector NDC Breach","Description":"OnSettle","From":"Any","code":70017},{"Event":"Bank NDC Breach","Description":"OnSettle","From":"Any","code":70018},{"Event":"Collector NOCA inoperable","Description":"OnSettle (Balance Check Status Failure)","From":"Any","code":70019},{"Event":"Receiver NOCA inoperable","Description":"OnSettle (Balance Check Status Failure)","From":"Any","code":70020},{"Event":"No bank response for balance","Description":"OnSettle (Balance Check Failure)","From":"Any","code":70021},{"Event":"KeyDb Heart Beat Failure - (Internal Server Error - 503)","Description":"NACK","From":"Any","code":70022}]}}